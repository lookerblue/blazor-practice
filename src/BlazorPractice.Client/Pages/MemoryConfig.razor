@page "/memory-config"
@layout Layout
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@inject ILogger<MemoryConfig> Logger

<PageTitle>@pageTitle</PageTitle>

<div class="alert alert-success">
    <p>
        来源：<a href="https://docs.microsoft.com/zh-cn/aspnet/core/blazor/fundamentals/configuration?view=aspnetcore-6.0#memory-configuration-source" target="_blank">link</a>
    </p>
</div>

<hr />

<h1>@pageTitle</h1>

<h2>General specifications</h2>

<ul>
    <li>Color: @Configuration["color"]</li>
    <li>Type: @Configuration["type"]</li>
</ul>

<h2>Wheels</h2>

<ul>
    <li>Count: @Configuration["wheels:count"]</li>
    <li>Brand: @Configuration["wheels:brand"]</li>
    <li>Type: @Configuration["wheels:brand:type"]</li>
    <li>Year: @Configuration["wheels:year"]</li>
</ul>

@code {
    private string pageTitle = "内存中的配置";

    protected override void OnInitialized()
    {
        var wheelsSection = Configuration.GetSection("wheels");

        Logger.LogInformation( wheelsSection["count"]);

    }

}
